# Overview

IOU：交并比（Intersection-over-Union，IoU）目标检测中使用的一个概念，是产生的候选框（candidate bound）与原标记框（ground truth bound）的交叠率，即它们的交集与并集的比值。

NMS：非极大值抑制（non maximum suppression），模型给出了多个重叠在一起的候选框，需要消除多余的框，找到最佳的物体检测的位置。

hard-nms：其实就是经典版本的NMS的方法。就是根据模型给出每个box的置信度从大到小进行排序，然后保留最大的，删除所以与这个最大置信度的候选框的IoU大于阈值的其他候选框。

soft-NMS：在密集目标检测任务中，hard-NMS会有一些问题：两个物体重叠起来了，但是根据hard-NMS其中一个框会被去掉。区别是，soft-NMS的会根据IoU的大小，去适当的削减大于阈值的其他框置信度

# NMS

非极大值抑制：先假设有6个候选框，根据分类器类别分类概率做排序，从小到大分别属于车辆的概率分别为A、B、C、D、E、F。
* 从最大概率矩形框（即面积最大的框）F开始，分别判断A~E与F的重叠度IOU是否大于某个设定的阈值;
* 假设B、D与F的重叠度超过阈值，那么就扔掉B、D（因为超过阈值，说明D与F或者B与F，已经有很大部分是重叠的，那我们保留面积最大的F即可，其余小面积的B，D就是多余的，用F完全可以表示一个物体了，所以保留F丢掉B,D）；并标记第一个矩形框F，是我们保留下来的。
* 从剩下的矩形框A、C、E中，选择概率最大的E，然后判断E与A、C的重叠度，重叠度大于一定的阈值，那么就扔掉；并标记E是我们保留下来的第二个矩形框。
* 一直重复这个过程，找到所有曾经被保留下来的矩形框。